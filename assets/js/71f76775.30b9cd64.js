"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[39],{436:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"development/intro","title":"Development Guide","description":"This section provides guidance for developers who want to contribute to or modify the DHIS2 FlexiPortal.","source":"@site/docs/development/intro.md","sourceDirName":"development","slug":"/development/intro","permalink":"/dhis2-public-portal/docs/development/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/hisptz/dhis2-public-portal/tree/main/apps/docs/docs/development/intro.md","tags":[],"version":"current","frontMatter":{},"sidebar":"developmentSidebar"}');var t=s(1085),i=s(1184);const l={},o="Development Guide",a={},d=[{value:"Project Structure",id:"project-structure",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup Instructions",id:"setup-instructions",level:2},{value:"Development Workflow",id:"development-workflow",level:2},{value:"Running the Portal App",id:"running-the-portal-app",level:3},{value:"Running the Manager App",id:"running-the-manager-app",level:3},{value:"Running Both Apps Simultaneously",id:"running-both-apps-simultaneously",level:3},{value:"Testing",id:"testing",level:2},{value:"Running End-to-End Tests",id:"running-end-to-end-tests",level:3},{value:"Building for Production",id:"building-for-production",level:2},{value:"Contributing",id:"contributing",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"development-guide",children:"Development Guide"})}),"\n",(0,t.jsx)(n.p,{children:"This section provides guidance for developers who want to contribute to or modify the DHIS2 FlexiPortal."}),"\n",(0,t.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,t.jsx)(n.p,{children:"The project is organized as a monorepo using Yarn workspaces and Turborepo, with the following structure:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"apps/"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"portal/"}),": The Next.js application that serves as the public-facing portal"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"manager/"}),": A DHIS2 custom application for managing portal content"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"packages/"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"shared/"}),": Shared utilities and components used by both apps"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ui/"}),": Reusable UI components"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"eslint-config/"}),": Shared ESLint configuration"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"typescript-config/"}),": Shared TypeScript configuration"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Node.js (version 20 or higher)"}),"\n",(0,t.jsx)(n.li,{children:"Yarn (version 1.22.x)"}),"\n",(0,t.jsx)(n.li,{children:"Access to a DHIS2 instance for development"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"setup-instructions",children:"Setup Instructions"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Clone the repository:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/hisptz/dhis2-public-portal.git\ncd dhis2-public-portal\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Install dependencies:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn install\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Set up environment variables:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For the portal app, create a ",(0,t.jsx)(n.code,{children:".env"})," file in ",(0,t.jsx)(n.code,{children:"apps/portal/"})," with:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"DHIS2_BASE_URL=https://your-dhis2-instance.org\nDHIS2_BASE_PAT_TOKEN=your-personal-access-token\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["For the manager app, create a ",(0,t.jsx)(n.code,{children:".env"})," file in ",(0,t.jsx)(n.code,{children:"apps/manager/"})," with:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"DHIS2_PROXY_URL=https://your-dhis2-instance.org\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,t.jsx)(n.h3,{id:"running-the-portal-app",children:"Running the Portal App"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run the portal app in development mode\nyarn dev:portal\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The portal will be available at ",(0,t.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})]}),"\n",(0,t.jsx)(n.h3,{id:"running-the-manager-app",children:"Running the Manager App"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run the manager app in development mode\nyarn dev:manager\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The manager app will be available at ",(0,t.jsx)(n.a,{href:"http://localhost:3001",children:"http://localhost:3001"})]}),"\n",(0,t.jsx)(n.h3,{id:"running-both-apps-simultaneously",children:"Running Both Apps Simultaneously"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run both apps in development mode\nyarn dev\n"})}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(n.h3,{id:"running-end-to-end-tests",children:"Running End-to-End Tests"}),"\n",(0,t.jsx)(n.p,{children:"The project uses Cypress for end-to-end testing:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run portal e2e tests\nyarn portal test:e2e\n\n# Run portal e2e tests with UI\nyarn portal test:e2e-open\n\n# Run manager e2e tests\nyarn manager test:e2e\n\n# Run manager e2e tests with UI\nyarn manager test:e2e-open\n"})}),"\n",(0,t.jsx)(n.h2,{id:"building-for-production",children:"Building for Production"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Build all apps\nyarn build\n\n# Build only the portal\nyarn portal build\n\n# Build only the manager\nyarn manager build\n"})}),"\n",(0,t.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create a new branch for your feature or bugfix"}),"\n",(0,t.jsx)(n.li,{children:"Make your changes"}),"\n",(0,t.jsx)(n.li,{children:"Ensure tests pass"}),"\n",(0,t.jsx)(n.li,{children:"Submit a pull request"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The project follows semantic versioning and uses conventional commits for automated releases."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},1184:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var r=s(4041);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);